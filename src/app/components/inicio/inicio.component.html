<div class="inicio-container">
  <div *ngIf="!showDetail" class="search-section">
    <div class="search-box">
      <div class="search-input-group">
        <textarea 
          [(ngModel)]="searchQuery"
          (keypress)="onKeyPress($event)"
          placeholder="Educación, salud, economía, seguridad..."
          [disabled]="loading"
          rows="1"
        ></textarea>
        <button 
          (click)="onSearch()" 
          [disabled]="loading || !searchQuery"
          [class.loading]="loading"
        >
          {{ loading ? '...' : 'Buscar' }}
        </button>
      </div>
    </div>
  </div>

  <div class="content-area">
    <div *ngIf="!showDetail" class="list-view">
      <div *ngIf="loading" class="loading-state">
        <div class="spinner"></div>
        <p>Buscando...</p>
      </div>

      <div *ngIf="error" class="error-state">
        {{ error }}
      </div>

      <app-lista-candidatos 
        *ngIf="candidates.length > 0 && !loading && hasSearched"
        [candidates]="candidates"
        (candidateSelected)="onCandidateSelected($event)"
      ></app-lista-candidatos>

      <div *ngIf="candidates.length === 0 && !loading && hasSearched" class="empty-state">
        No hay resultados para "{{ searchQuery }}"
      </div>

      <div *ngIf="!hasSearched && !loading" class="welcome-state">
        Escribe palabras clave y presiona Buscar para encontrar candidatos
      </div>
    </div>

    <div *ngIf="showDetail && selectedCandidate" class="detail-view">
      <app-detalle-candidato 
        [candidate]="selectedCandidate"
        (backToList)="onBackToList()"
      ></app-detalle-candidato>
    </div>
  </div>
</div>