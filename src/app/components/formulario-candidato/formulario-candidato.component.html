<div class="formulario-container">
  <h1>Nuevo Candidato</h1>
  
  <form (ngSubmit)="onSubmit()" class="candidate-form">
    <section class="form-section">
      <h2>Información Básica</h2>
      <div class="form-grid">
        <div class="form-group">
          <label>Nombre *</label>
          <input type="text" [(ngModel)]="candidate.name" name="name" required>
        </div>
        <div class="form-group">
          <label>Partido *</label>
          <input type="text" [(ngModel)]="candidate.party" name="party" required>
        </div>
        <div class="form-group full-width">
          <label>Biografía</label>
          <textarea [(ngModel)]="candidate.biography" name="biography" rows="4"></textarea>
        </div>
      </div>
    </section>

    <section class="form-section">
      <h2>Propuestas</h2>
      <div class="form-grid">
        <div class="form-group">
          <label>Título</label>
          <input type="text" [(ngModel)]="newProposal.title" name="proposalTitle">
        </div>
        <div class="form-group">
          <label>Área</label>
          <input type="text" [(ngModel)]="newProposal.area" name="proposalArea">
        </div>
        <div class="form-group full-width">
          <label>Descripción</label>
          <textarea [(ngModel)]="newProposal.description" name="proposalDescription" rows="3"></textarea>
        </div>
      </div>
      <button type="button" (click)="addProposal()" class="add-button">Agregar Propuesta</button>

      <div *ngIf="candidate.proposals!.length > 0" class="items-list">
        <h3>Propuestas Agregadas</h3>
        <div *ngFor="let proposal of candidate.proposals; let i = index" class="item-card">
          <div class="item-content">
            <strong>{{ proposal.title }}</strong> - {{ proposal.area }}
            <p>{{ proposal.description }}</p>
          </div>
          <button type="button" (click)="removeProposal(i)" class="remove-button">×</button>
        </div>
      </div>
    </section>

    <section class="form-section">
      <h2>Logros</h2>
      <div class="form-grid">
        <div class="form-group">
          <label>Descripción</label>
          <input type="text" [(ngModel)]="newAchievement.description" name="achievementDescription">
        </div>
        <div class="form-group">
          <label>Tipo</label>
          <select [(ngModel)]="newAchievement.type" name="achievementType">
            <option value="">Seleccionar tipo</option>
            <option value="LAW_APPROVED">Ley Aprobada</option>
            <option value="LAW_PROPOSED">Ley Propuesta</option>
            <option value="PUBLIC_PROJECT_COMPLETED">Proyecto Público Completado</option>
            <option value="ACADEMIC_EXPERIENCE">Experiencia Académica</option>
            <option value="PUBLIC_SECTOR_EXPERIENCE">Experiencia en Sector Público</option>
            <option value="SOCIAL_PROJECT_LEADERSHIP">Liderazgo en Proyecto Social</option>
          </select>
        </div>
        <div class="form-group">
          <label>Relevancia (1-3)</label>
          <input type="number" [(ngModel)]="newAchievement.relevance" name="achievementRelevance" min="1" max="3">
        </div>
        <div class="form-group">
          <label>Cantidad</label>
          <input type="number" [(ngModel)]="newAchievement.quantity" name="achievementQuantity">
        </div>
      </div>
      <button type="button" (click)="addAchievement()" class="add-button">Agregar Logro</button>

      <div *ngIf="candidate.achievements!.length > 0" class="items-list">
        <h3>Logros Agregados</h3>
        <div *ngFor="let achievement of candidate.achievements; let i = index" class="item-card">
          <div class="item-content">
            <strong>{{ achievement.type }}</strong>
            <p>{{ achievement.description }}</p>
            <small>Relevancia: {{ achievement.relevance }} | Cantidad: {{ achievement.quantity }}</small>
          </div>
          <button type="button" (click)="removeAchievement(i)" class="remove-button">×</button>
        </div>
      </div>
    </section>

    <div class="form-actions">
      <button type="button" (click)="onCancel()" class="cancel-button">Cancelar</button>
      <button type="submit" class="submit-button">Guardar Candidato</button>
    </div>
  </form>
</div>